<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Ball Color Game</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
    }
    .ball {
      position: absolute;
      border-radius: 50%;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <!-- Ball color picker -->
  <input type="color" id="colorPicker">
  <!-- Ball size controls -->
  <label for="sizeRange">Tamanho da Bolinha:</label>
  <input type="range" id="sizeRange" min="10" max="100" value="50">
  
  <script>
    // Get the canvas and its context
    const canvas = document.createElement("canvas");
    const context = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    document.body.appendChild(canvas);

    // Retrieve saved balls from local storage or initialize an empty array
    let savedBalls = JSON.parse(localStorage.getItem("balls")) || [];

    // Function to draw a ball
    function drawBall(x, y, color, size) {
      context.beginPath();
      context.fillStyle = color;
      context.arc(x, y, size / 2, 0, Math.PI * 2);
      context.fill();
      context.closePath();
    }

    // Function to save ball data in local storage
    function saveBall(x, y, color, size) {
      savedBalls.push({ x, y, color, size });
      localStorage.setItem("balls", JSON.stringify(savedBalls));
    }

    // Function to draw all saved balls
    function drawSavedBalls() {
      savedBalls.forEach((ball) => {
        drawBall(ball.x, ball.y, ball.color, ball.size);
      });
    }

    // Event listener for the color picker to change the ball color
    const colorPicker = document.getElementById("colorPicker");
    colorPicker.addEventListener("change", (event) => {
      currentBallColor = event.target.value;
    });

    // Event listener for the size range to adjust ball size
    const sizeRange = document.getElementById("sizeRange");
    sizeRange.addEventListener("input", (event) => {
      currentBallSize = event.target.value;
    });

    // Variables to track the current ball position, color, and size
    let currentBallColor = "red"; // Default color
    let currentBallSize = 50;
    let currentBallX = 0;
    let currentBallY = 0;

    // Function to create a new ball on the cursor position
    function createBallOnCursor(event) {
      const rect = canvas.getBoundingClientRect();
      currentBallX = event.clientX - rect.left;
      currentBallY = event.clientY - rect.top;
      drawBall(currentBallX, currentBallY, currentBallColor, currentBallSize);
      saveBall(currentBallX, currentBallY, currentBallColor, currentBallSize);
    }

    // Event listener to create a new ball when the canvas is clicked
    canvas.addEventListener("click", createBallOnCursor);

    // Event listener to draw saved balls when the page loads
    window.addEventListener("load", () => {
      drawSavedBalls();
    });
  </script>
</body>
</html>
